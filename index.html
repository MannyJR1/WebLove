<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ice & Jinny Galaxy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        body { font-family: 'Kanit', sans-serif; background-color: #050510; overflow: hidden; touch-action: manipulation; user-select: none; -webkit-user-select: none; }
        .font-script { font-family: 'Dancing Script', cursive; }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3); }
        .no-scrollbar::-webkit-scrollbar { display: none; } 

        /* --- üîê COOL LOCK SCREEN --- */
        .digit-box {
            width: 60px; height: 70px;
            display: flex; justify-content: center; align-items: center;
            font-size: 2.5rem; font-weight: bold; color: white;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        .digit-box.filled {
            border-color: rgba(59, 130, 246, 0.8); /* ‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç */
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
            transform: scale(1.05);
        }
        .digit-box.success {
            border-color: rgba(34, 197, 94, 0.8); /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á */
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.6);
            color: #22c55e;
        }
        .digit-box.error {
            border-color: rgba(239, 68, 68, 0.8); /* ‡∏™‡∏µ‡πÅ‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏¥‡∏î */
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.6);
            color: #ef4444;
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
        #hidden-passcode { position: absolute; opacity: 0; pointer-events: none; }

        /* --- (CSS ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) --- */
        .lantern-container { position: absolute; bottom: -100px; left: 50%; display: flex; flex-direction: column; align-items: center; animation: floatUp linear forwards; pointer-events: auto; }
        .lantern { width: 60px; height: 80px; background: linear-gradient(to bottom, rgba(255, 220, 100, 0.9), rgba(255, 150, 50, 0.8)); border-radius: 10px 10px 30px 30px; box-shadow: 0 0 20px rgba(255, 200, 50, 0.6), inset 0 0 20px rgba(255, 255, 200, 0.5); position: relative; animation: flicker 2s infinite alternate; }
        .lantern::after { content: ''; position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); width: 15px; height: 20px; background: rgba(255, 255, 200, 0.8); border-radius: 50% 50% 20% 20%; filter: blur(5px); animation: flicker 1s infinite alternate-reverse; }
        .wish-tag { margin-top: 10px; background: rgba(0,0,0,0.6); padding: 4px 8px; border-radius: 4px; color: rgba(255,255,255,0.8); font-size: 10px; max-width: 150px; text-align: center; backdrop-filter: blur(2px); opacity: 0; transition: opacity 0.3s; }
        .lantern-container:hover .wish-tag { opacity: 1; }
        @keyframes floatUp { 0% { transform: translateY(0) translateX(0) scale(0.8); opacity: 0; } 10% { opacity: 1; } 100% { transform: translateY(-120vh) translateX(var(--drift)) scale(0.4); opacity: 0.8; } }
        @keyframes flicker { 0% { opacity: 0.8; transform: scale(1); } 100% { opacity: 1; transform: scale(1.05); box-shadow: 0 0 30px rgba(255, 200, 50, 0.8); } }
        .animate-fade-in-up { animation: fadeInUp 0.5s ease-out; } @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .shooting-star { position: absolute; top: 50%; left: 50%; height: 2px; background: linear-gradient(-45deg, rgba(95, 145, 255, 1), rgba(0, 0, 255, 0)); border-radius: 999px; filter: drop-shadow(0 0 6px rgba(105, 155, 255, 1)); animation: tail 3000ms ease-in-out infinite, shooting 3000ms ease-in-out infinite; }
        @keyframes tail { 0% { width: 0; } 30% { width: 100px; } 100% { width: 0; } } @keyframes shooting { 0% { transform: translateX(0); } 100% { transform: translateX(300px); } }
        .animate-pulse-slow { animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes impact { 0% { transform: scale(1) rotate(0deg); } 50% { transform: scale(0.8) rotate(var(--rot)); filter: sepia(1) saturate(5) hue-rotate(-50deg); } 100% { transform: scale(1) rotate(0deg); } } .face-smash { animation: impact 0.1s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes earthquake { 0% { transform: translate(1px, 1px); } 20% { transform: translate(-3px, 0px); } 40% { transform: translate(1px, -1px); } 60% { transform: translate(-3px, 1px); } 80% { transform: translate(-1px, -1px); } 100% { transform: translate(1px, -2px); } } .screen-shake-hard { animation: earthquake 0.3s ease-in-out infinite; }
        .particle { position: absolute; pointer-events: none; width: 10px; height: 10px; border-radius: 50%; animation: explode 0.6s forwards ease-out; z-index: 100; } @keyframes explode { 0% { transform: translate(0, 0) scale(1); opacity: 1; } 100% { transform: translate(var(--mx), var(--my)) scale(0); opacity: 0; } }
        .bruised-1 { filter: contrast(1.2) brightness(0.9) sepia(0.3) hue-rotate(-30deg); } .bruised-2 { filter: contrast(1.5) brightness(0.7) sepia(0.6) hue-rotate(-50deg) blur(0.5px); } .bruised-3 { filter: contrast(2) brightness(0.6) sepia(1) hue-rotate(-70deg) blur(1px) grayscale(0.5); }
        .msg-bubble { max-width: 80%; padding: 10px 15px; border-radius: 20px; font-size: 0.95rem; margin-bottom: 8px; line-height: 1.4; position: relative; word-wrap: break-word; }
        .msg-sent { background: linear-gradient(135deg, #3b82f6, #8b5cf6); color: white; align-self: flex-end; border-bottom-right-radius: 5px; }
        .msg-received { background: rgba(255,255,255,0.15); backdrop-filter: blur(5px); color: #f3f4f6; align-self: flex-start; border-bottom-left-radius: 5px; }
        .typing-dot { display: inline-block; width: 6px; height: 6px; border-radius: 50%; background-color: #fff; animation: typing 1.4s infinite ease-in-out both; margin: 0 2px; } .typing-dot:nth-child(1) { animation-delay: -0.32s; } .typing-dot:nth-child(2) { animation-delay: -0.16s; } @keyframes typing { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
    </style>
</head>
<body class="bg-black text-white min-h-screen relative">

    <audio id="bg-music" loop><source src="song.mp3" type="audio/mpeg"></audio>
    <audio id="sfx-hit"><source src="https://www.myinstants.com/media/sounds/minecraft-hit-sound.mp3" type="audio/mpeg"></audio>
    <audio id="sfx-msg"><source src="https://www.myinstants.com/media/sounds/discord-notification.mp3" type="audio/mpeg"></audio>

    <div class="fixed inset-0 z-[-2]"><img src="https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover opacity-50"></div>
    
    <div id="lock-screen" class="fixed inset-0 z-50 bg-black/80 backdrop-blur-xl flex flex-col items-center justify-center p-4 transition-all duration-700" onclick="document.getElementById('hidden-passcode').focus()">
        <div class="text-center mb-12 relative">
            <div class="absolute -inset-10 bg-blue-500/20 blur-3xl rounded-full pointer-events-none animate-pulse-slow"></div>
            <h1 class="font-script text-6xl text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-purple-300 mb-4 drop-shadow-[0_0_15px_rgba(100,100,255,0.5)] relative z-10">Ice & Jinny</h1>
            <p class="text-blue-200/70 text-sm uppercase tracking-[0.3em] relative z-10">Enter Anniversary Date</p>
        </div>

        <div class="flex gap-4 mb-8 relative z-10" id="passcode-display">
            <div class="digit-box"></div>
            <div class="digit-box"></div>
            <div class="digit-box"></div>
            <div class="digit-box"></div>
        </div>
        
        <input type="number" id="hidden-passcode" pattern="\d*" maxlength="4" class="absolute opacity-0">
        
        <p class="text-white/40 text-xs tracking-widest mt-4">Tap to enter passcode</p>
    </div>

    <div id="main-app" class="relative z-10 h-screen flex flex-col hidden opacity-0 transition-opacity duration-1000">
        <header class="flex justify-between items-center p-6 pb-2">
            <h1 class="font-script text-3xl text-white/90">Ice Jinny</h1>
            
            <div class="flex items-center gap-3 bg-white/10 px-3 py-1 rounded-full border border-white/10 backdrop-blur-md">
                <i class="fas fa-volume-down text-[10px] text-white/50"></i>
                <input type="range" min="0" max="1" step="0.1" value="0.3" 
                       oninput="document.getElementById('bg-music').volume = this.value" 
                       class="w-16 h-1 accent-blue-400 bg-white/20 rounded-lg appearance-none cursor-pointer">
                
                <button onclick="toggleMusic()" class="w-8 h-8 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition-colors">
                    <i id="music-icon" class="fas fa-play text-[10px]"></i>
                </button>
            </div>
        </header>
        <main class="flex-1 overflow-hidden relative" id="game-stage">
            <div id="tab-home" class="block h-full overflow-y-auto p-4 pb-24 relative overflow-hidden">
                <div id="star-container" class="absolute inset-0 pointer-events-none z-0"></div>
                <div class="text-center mt-6 relative z-10">
                    <div class="relative w-64 h-64 mx-auto rounded-full p-1 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-[0_0_40px_rgba(0,0,255,0.4)]">
                        <img src="ij.jpg" class="w-full h-full object-cover rounded-full border-4 border-black">
                    </div>
                    <h2 class="font-script text-4xl mt-6 text-blue-200 drop-shadow-lg">Anniversary Day</h2>
                    <div class="mt-4 glass inline-block px-8 py-4 rounded-2xl border border-white/10">
                        <div class="grid grid-cols-4 gap-6 text-center">
                            <div><span id="d" class="text-3xl font-bold">0</span><div class="text-[10px] tracking-widest opacity-70">DAYS</div></div>
                            <div><span id="h" class="text-3xl font-bold">0</span><div class="text-[10px] tracking-widest opacity-70">HRS</div></div>
                            <div><span id="m" class="text-3xl font-bold">0</span><div class="text-[10px] tracking-widest opacity-70">MIN</div></div>
                            <div><span id="s" class="text-3xl font-bold">0</span><div class="text-[10px] tracking-widest opacity-70">SEC</div></div>
                        </div>
                    </div>
                    <div class="mt-8 grid grid-cols-2 gap-4 w-full max-w-xs mx-auto">
                        <div class="glass p-3 rounded-xl text-center border border-blue-500/30 hover:bg-white/5 transition-all">
                            <div class="text-2xl mb-1">üéÇ</div>
                            <p class="text-xs text-blue-200 font-bold">Ice's B-Day</p>
                            <p class="text-[10px] text-white/50">17 March</p>
                            <p id="ice-countdown" class="text-xl font-bold text-white mt-1">...</p>
                        </div>
                        <div class="glass p-3 rounded-xl text-center border border-pink-500/30 hover:bg-white/5 transition-all">
                            <div class="text-2xl mb-1">üéÅ</div>
                            <p class="text-xs text-pink-200 font-bold">Jinny's B-Day</p>
                            <p class="text-[10px] text-white/50">27 August</p>
                            <p id="jinny-countdown" class="text-xl font-bold text-white mt-1">...</p>
                        </div>
                    </div>
                    <div class="mt-8 glass p-6 rounded-2xl max-w-xs mx-auto border border-white/20 relative">
                        <div class="absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-pink-500 to-purple-600 px-4 py-1 rounded-full text-[10px] font-bold shadow-lg text-white">Daily Message</div>
                        <p id="love-quote" class="text-sm font-light italic text-white/90 mt-2 min-h-[40px] flex items-center justify-center">"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å..."</p>
                        <button onclick="randomQuote()" class="mt-3 text-[10px] text-white/50 hover:text-white underline cursor-pointer"><i class="fas fa-random mr-1"></i> ‡∏™‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà</button>
                    </div>
                </div>
            </div>
            <div id="tab-game" class="hidden h-full w-full flex-col items-center pt-4 px-4 relative overflow-hidden select-none">
                <h2 class="text-4xl font-black text-red-600 mb-1 drop-shadow-[0_0_15px_red] animate-pulse">SMASH ICE!</h2>
                <p class="text-sm text-white/70 mb-4">‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏¢‡∏ô‡∏∞</p>
                <div class="relative w-full max-w-md mx-auto flex items-center justify-center cursor-pointer select-none" style="height: 50vh;" onmousedown="startPunch(event)" ontouchstart="startPunch(event)">
                    <img id="game-face-img" src="face.png" class="w-auto h-full max-h-full object-contain transition-transform duration-75 drop-shadow-[0_10px_20px_rgba(0,0,0,0.5)] relative z-10 pointer-events-none" onerror="this.src='https://cdn-icons-png.flaticon.com/512/847/847969.png'">
                </div>
                <div class="mt-4 text-center relative z-30 pointer-events-none">
                    <p class="text-3xl font-black italic drop-shadow-md text-yellow-400">COMBO: <span id="combo-count" class="text-5xl text-red-500">0</span></p>
                    <div class="w-72 h-8 bg-gray-900 rounded-full mt-2 mx-auto overflow-hidden border-2 border-red-500/50 shadow-[0_0_10px_red]"><div id="rage-bar" class="w-0 h-full bg-gradient-to-r from-orange-500 to-red-700 transition-all duration-75"></div></div>
                </div>
                <div class="mt-8 relative z-30"><button onclick="healFace()" class="text-sm text-green-400 hover:text-green-300 hover:underline py-2 tracking-widest uppercase font-bold">Reset (Heal)</button></div>
            </div>
            <div id="tab-gallery" class="hidden h-full flex flex-col p-4 pb-24 overflow-y-auto">
                <h2 class="font-script text-4xl mt-6 mb-2 text-center text-blue-200 drop-shadow-lg">Photo Memories</h2>
                <p class="text-xs text-center text-white/50 mb-8">‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÑ‡∏ß‡πâ‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ ‚ù§Ô∏è</p>
                <div class="grid grid-cols-1 gap-6 w-full max-w-sm mx-auto pb-10">
                    <div class="glass rounded-2xl overflow-hidden border border-white/10 shadow-lg relative group transition-transform hover:scale-[1.02]">
                        <img src="mem1.jpg" class="w-full h-auto object-cover">
                        <div class="p-4 bg-black/60 backdrop-blur-sm">
                            <p class="text-sm text-white/90 font-light italic">"‡∏£‡∏π‡∏õ‡∏Ñ‡∏π‡πà‡∏£‡∏π‡∏õ‡πÅ‡∏£‡∏Å‡∏Å‡∏Å‡∏Å‡∏Ñ‡∏±‡∏ö‡∏ö ‚ù§Ô∏è"</p>
                            <p class="text-[10px] text-blue-300 mt-2 text-right">#First</p>
                        </div>
                    </div>
                    <div class="glass rounded-2xl overflow-hidden border border-white/10 shadow-lg relative group transition-transform hover:scale-[1.02]">
                        <img src="mem2.jpg" class="w-full h-auto object-cover">
                        <div class="p-4 bg-black/60 backdrop-blur-sm">
                            <p class="text-sm text-white/90 font-light italic">"‡πÑ‡∏õ‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ô‡∏ô‡∏ô"</p>
                            <p class="text-[10px] text-blue-300 mt-2 text-right">#MyLove</p>
                        </div>
                    </div>
                    <div class="glass rounded-2xl overflow-hidden border border-white/10 shadow-lg relative group transition-transform hover:scale-[1.02]">
                        <img src="mem3.jpg" class="w-full h-auto object-cover">
                        <div class="p-4 bg-black/60 backdrop-blur-sm">
                            <p class="text-sm text-white/90 font-light italic">"‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏õ‡∏´‡∏≤‡∏≤‡πÄ‡∏ò‡∏≠‡∏≠‡∏á‡πà‡∏∞"</p>
                            <p class="text-[10px] text-blue-300 mt-2 text-right">#EiEi</p>
                        </div>
                    </div>
                    <div class="glass rounded-2xl overflow-hidden border border-white/10 shadow-lg relative group transition-transform hover:scale-[1.02]">
                        <img src="mem4.jpg" class="w-full h-auto object-cover">
                        <div class="p-4 bg-black/60 backdrop-blur-sm">
                            <p class="text-sm text-white/90 font-light italic">"‡πÄ‡∏Ñ‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏™‡∏µ‡∏°‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏ò‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡∏¢"</p>
                            <p class="text-[10px] text-blue-300 mt-2 text-right">#Bearbear</p>
                        </div>
                    </div>
                    <div class="glass rounded-2xl overflow-hidden border border-white/10 shadow-lg relative group transition-transform hover:scale-[1.02]">
                        <img src="mem5.jpg" class="w-full h-auto object-cover">
                        <div class="p-4 bg-black/60 backdrop-blur-sm">
                            <p class="text-sm text-white/90 font-light italic">"‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏¢‡∏∏‡∏î‡∏¢‡∏≤‡∏≤ EP1"</p>
                            <p class="text-[10px] text-blue-300 mt-2 text-right">#AYT</p>
                        </div>
                    </div>
                    <div class="glass rounded-2xl overflow-hidden border border-white/10 shadow-lg relative group transition-transform hover:scale-[1.02]">
                        <img src="mem6.jpg" class="w-full h-auto object-cover">
                        <div class="p-4 bg-black/60 backdrop-blur-sm">
                            <p class="text-sm text-white/90 font-light italic">"‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏ß‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ô"</p>
                            <p class="text-[10px] text-blue-300 mt-2 text-right">#EATEAT</p>
                        </div>
                    </div>
                    <div class="glass rounded-2xl overflow-hidden border border-white/10 shadow-lg relative group transition-transform hover:scale-[1.02]">
                        <img src="mem7.jpg" class="w-full h-auto object-cover">
                        <div class="p-4 bg-black/60 backdrop-blur-sm">
                            <p class="text-sm text-white/90 font-light italic">"‡∏à‡∏¥‡∏ô‡∏ô‡∏µ‡πà‡∏û‡∏≤‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ß‡∏ß"</p>
                            <p class="text-[10px] text-blue-300 mt-2 text-right">#GOOOO</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="tab-wish" class="hidden h-full flex flex-col relative overflow-hidden bg-black">
                <div class="absolute inset-0 pointer-events-none z-0 bg-[url('https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center opacity-60"></div>
                <div class="absolute inset-0 pointer-events-none z-0 bg-gradient-to-b from-transparent via-black/20 to-black"></div>
                <div id="lantern-sky" class="absolute inset-0 pointer-events-none z-10 overflow-hidden"></div>
                <div class="relative z-20 flex-1 flex flex-col items-center justify-center p-6 text-center">
                    <h2 class="font-script text-4xl text-yellow-200 drop-shadow-[0_0_15px_rgba(255,255,0,0.6)] mb-2 animate-pulse-slow">Make a Wish</h2>
                    <p class="text-sm text-white/80 mb-8 font-light drop-shadow-md">‡∏ù‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å... ‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ñ‡∏∂‡∏á‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß</p>
                    <div class="w-full max-w-xs glass p-4 rounded-2xl border border-yellow-500/30 animate-fade-in-up shadow-[0_0_30px_rgba(255,200,0,0.1)]">
                        <textarea id="wish-input" rows="3" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏ö‡∏≠‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤..." class="w-full bg-black/40 border border-white/20 rounded-xl p-3 text-sm text-white focus:outline-none focus:border-yellow-400 resize-none placeholder-white/50 mb-3 text-center shadow-inner"></textarea>
                        <button onclick="sendLantern()" class="w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-500 hover:to-orange-500 text-white py-3 rounded-xl text-sm font-bold shadow-[0_0_15px_rgba(255,200,0,0.4)] transition-all active:scale-95 flex items-center justify-center gap-2 border border-white/20">
                            <i class="fas fa-paper-plane"></i> ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÇ‡∏Ñ‡∏°‡∏•‡∏≠‡∏¢
                        </button>
                    </div>
                </div>
                <audio id="sfx-lantern"><source src="https://cdn.pixabay.com/download/audio/2022/03/24/audio_845161977a.mp3?filename=magic-chime-01.mp3" type="audio/mpeg"></audio>
            </div>
            <div id="tab-chat" class="hidden h-full flex flex-col relative w-full bg-black z-50">
                <div class="px-6 py-4 border-b border-white/20 flex items-center gap-4 bg-gray-900 shadow-md flex-none">
                    <div class="relative">
                        <div class="w-12 h-12 rounded-full overflow-hidden border-2 border-blue-400"><img src="LL.jpg" class="w-full h-full object-cover bg-gray-800"></div>
                        <div class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-black animate-pulse"></div>
                    </div>
                    <div>
                        <h3 class="font-bold text-lg text-white">Ice</h3>
                        <div class="flex items-center gap-1"><span class="w-1.5 h-1.5 rounded-full bg-green-500"></span><p class="text-xs text-blue-300">Online ‚Ä¢ Always with you</p></div>
                    </div>
                </div>
                <div id="chat-messages" class="flex-1 overflow-y-auto p-4 flex flex-col gap-3 bg-black w-full">
                    <div class="msg-bubble msg-received shadow-lg">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏±‡∏ö‡∏ö‡∏Ñ‡∏ô‡πÄ‡∏Å‡πà‡∏á‡∏á‡∏á ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏™‡∏°‡∏≠‡∏ô‡∏∞ ‚ù§Ô∏è</div>
                    <div class="msg-bubble msg-received shadow-lg">‡∏°‡∏µ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à ‡∏ö‡∏≠‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏¢‡∏¢ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏£‡∏≠‡∏ü‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏∞</div>
                    <div class="h-4 w-full flex-none"></div>
                </div>
                <div class="w-full px-4 py-4 bg-black border-t border-white/20 flex-none pb-24"> 
                    <div class="flex gap-2 items-center">
                        <input type="text" id="chat-input" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏∂‡∏á‡πÑ‡∏≠‡∏ã‡πå..." class="flex-1 bg-gray-900 border border-gray-700 rounded-full px-5 py-3 text-sm text-white focus:outline-none focus:border-blue-500 placeholder-gray-500 transition-all shadow-inner" onkeypress="if(event.key === 'Enter') sendMessage()">
                        <button onclick="sendMessage()" class="bg-blue-600 hover:bg-blue-500 text-white w-12 h-12 rounded-full flex items-center justify-center transition-transform active:scale-90 shadow-lg border border-blue-400 flex-none"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>
        </main>
        <nav class="fixed bottom-6 left-1/2 -translate-x-1/2 glass px-4 py-3 rounded-full flex gap-4 items-center z-50 backdrop-blur-2xl border-white/20 shadow-[0_0_20px_rgba(0,0,0,0.5)]">
            <button onclick="switchTab('home')" class="nav-btn text-blue-300 scale-125"><i class="fas fa-heart text-xl"></i></button>
            <button onclick="switchTab('game')" class="nav-btn text-white/50 hover:text-red-500"><i class="fas fa-fist-raised text-xl"></i></button>
            <button onclick="switchTab('wish')" class="nav-btn text-white/50 hover:text-yellow-400"><i class="fas fa-star text-xl"></i></button>
            <button onclick="switchTab('gallery')" class="nav-btn text-white/50 hover:text-purple-400"><i class="fas fa-images text-xl"></i></button>
            <button onclick="switchTab('chat')" class="nav-btn text-white/50 hover:text-pink-400"><i class="fas fa-comment-dots text-xl"></i></button>
        </nav>
    </div>

    <script>
        const CONFIG = { passcode: "2206", startDate: new Date(2022, 5, 22) };

        // --- üîê NEW LOCK SCREEN LOGIC ---
        const hiddenInput = document.getElementById('hidden-passcode');
        const digitBoxes = document.querySelectorAll('.digit-box');
        const lockScreen = document.getElementById('lock-screen');
        const mainApp = document.getElementById('main-app');
        const bgMusic = document.getElementById('bg-music');

        // ‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏µ‡πà Input ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
        lockScreen.addEventListener('click', () => hiddenInput.focus());

        hiddenInput.addEventListener('input', (e) => {
            const val = e.target.value;
            // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç
            digitBoxes.forEach((box, i) => {
                if (val[i]) {
                    box.innerText = val[i];
                    box.classList.add('filled');
                } else {
                    box.innerText = '';
                    box.classList.remove('filled', 'success', 'error');
                }
            });

            // ‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏£‡∏ö 4 ‡∏´‡∏•‡∏±‡∏Å
            if (val.length === 4) {
                if (val === CONFIG.passcode) {
                    // ‡∏£‡∏´‡∏±‡∏™‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
                    digitBoxes.forEach(box => box.classList.add('success'));
                    if(navigator.vibrate) navigator.vibrate([50, 50, 50]);
                    bgMusic.play().catch(()=>{});
                    setTimeout(() => {
                        lockScreen.style.opacity = '0';
                        lockScreen.style.pointerEvents = 'none';
                        setTimeout(() => { mainApp.classList.remove('hidden'); mainApp.style.opacity = '1'; }, 500);
                    }, 500);
                } else {
                    // ‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏¥‡∏î
                    digitBoxes.forEach(box => box.classList.add('error'));
                    if(navigator.vibrate) navigator.vibrate(200);
                    setTimeout(() => {
                        hiddenInput.value = '';
                        digitBoxes.forEach(box => {
                            box.innerText = '';
                            box.classList.remove('filled', 'error');
                        });
                    }, 800);
                }
            }
        });

        // --- (‡∏™‡πà‡∏ß‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏Ç‡∏≠‡∏á Script ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ---
        const chatInput = document.getElementById('chat-input'); const chatBox = document.getElementById('chat-messages'); const sfxMsg = document.getElementById('sfx-msg');
        const chatDatabase = [{ keywords: ["‡∏´‡∏ß‡∏±‡∏î‡∏î‡∏µ", "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ", "‡∏î‡∏µ‡∏à‡πâ‡∏≤", "hi", "hello", "‡∏ó‡∏±‡∏Å", "‡∏î‡∏µ‡∏Ñ‡∏±‡∏ö", "‡πÇ‡∏¢‡πà‡∏ß"], reply: ["‡∏ß‡πà‡∏≤‡∏á‡∏±‡∏¢‡∏¢‡∏¢‡∏Ñ‡∏±‡∏ö‡∏ö‡∏ö‡∏ö", "‡πÇ‡∏¢‡πà‡∏ß‡∏ß‡∏ß‡∏ß‡∏ß‡∏ß‡∏ß", "‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏à‡∏±‡∏á‡πÄ‡∏•‡∏¢ ‡∏ó‡πç‡∏≤‡∏¢‡∏±‡∏¢‡∏¢‡∏á‡∏±‡∏ö‡∏ö"] }, { keywords: ["‡∏ó‡∏≥‡πÑ‡∏£", "‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£", "‡∏¢‡∏∏‡πà‡∏á‡πÑ‡∏´‡∏°", "‡∏ß‡πà‡∏≤‡∏á‡∏õ‡πà‡∏≤‡∏ß", "‡∏ó‡πç‡∏≤‡∏≠‡∏∞‡πÑ‡∏£‡∏≠‡∏¢‡∏π‡πà", "‡∏ó‡πç‡∏≤‡∏£‡∏∞", "‡∏ó‡πç‡∏≤‡∏¢‡∏±‡∏¢"], reply: ["‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ô‡∏±‡πà‡∏á‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡πÄ‡∏ò‡∏≠‡∏≠‡∏¢‡∏π‡πà", "‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏Å ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡πç‡∏≤‡∏≤‡πÄ‡∏•‡∏¢", "‡∏£‡∏≠‡πÄ‡∏ò‡∏≠‡πÇ‡∏ó‡∏£‡∏°‡∏≤‡∏´‡∏≤‡∏≠‡∏¢‡∏π‡πà"] }, { keywords: ["‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß", "‡∏ó‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß", "‡∏´‡∏¥‡∏ß"], reply: ["‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Å‡∏¥‡∏ô‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞ ‡πÄ‡∏ò‡∏≠‡∏≠‡∏∞‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡∏ô‡∏ô‡πÄ‡∏•‡∏¢‡∏¢‡∏¢", "‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏•‡∏¢‡πÄ‡∏ò‡∏≠‡∏≠ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏õ‡∏ß‡∏î‡∏ó‡πâ‡∏≠‡∏á‡∏ô‡∏∞", "‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏ß‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ‡πÄ‡∏•‡∏¢ ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏≠‡πâ‡∏ß‡∏ô‡∏ô‡∏ô"] }, { keywords: ["‡∏ô‡∏≠‡∏ô", "‡∏á‡πà‡∏ß‡∏á", "‡∏ù‡∏±‡∏ô‡∏î‡∏µ"], reply: ["‡∏á‡πà‡∏ß‡∏á‡∏Å‡πá‡πÑ‡∏õ‡∏ô‡∏≠‡∏ô‡∏ô‡∏ô‡∏ô‡πÄ‡∏•‡∏¢‡∏¢‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏Ç‡∏≠‡∏ö‡∏ï‡∏≤‡∏î‡πç‡∏≤", "‡∏≠‡∏¢‡πà‡∏≤‡∏ô‡∏≠‡∏ô‡∏î‡∏∂‡∏Å‡∏ô‡∏∞ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ï‡∏∑‡πà‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏´‡∏ß", "‡∏ù‡∏±‡∏ô‡∏î‡∏µ‡∏Ñ‡πâ‡∏≤‡∏ö‡∏ö‡∏ö‡πÄ‡∏ò‡∏≠", "‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏™‡∏¥‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏ô‡∏∞‡πÄ‡∏ò‡∏≠‡∏ô‡∏≠‡∏ô‡∏î‡∏∂‡∏Å‡∏≠‡∏∞"] }, { keywords: ["‡∏ï‡∏∑‡πà‡∏ô", "‡∏≠‡∏£‡∏∏‡∏ì‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡πå", "‡πÄ‡∏ä‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß"], reply: ["‡∏°‡∏≠‡∏ô‡∏¥‡πà‡∏á‡∏á‡∏á‡∏á‡∏á‡∏á‡∏á‡∏á", "‡∏ï‡∏∑‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏≠‡∏≠ ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏ß‡∏ß‡∏¢‡∏±‡∏á‡∏á‡∏á", "‡∏°‡∏≠‡∏ô‡∏¥‡πà‡∏á‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏ö ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏á‡πà‡∏ß‡∏á‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏Å"] }, { keywords: ["‡∏á‡∏≠‡∏•", "‡∏á‡∏≠‡∏ô", "‡∏ô‡∏≠‡∏¢"], reply: ["‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏©‡∏©‡∏©‡∏©‡∏Ñ‡πâ‡∏≤‡∏ö‡∏ö‡∏ö ‡∏á‡πâ‡∏≠‡∏≠‡πÑ‡∏î‡πâ‡∏°‡∏±‡πâ‡∏¢‡∏¢‡∏¢", "‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏∏‡πâ‡∏á‡∏á‡∏á(‡∏á‡πâ‡∏≠‡∏≠‡∏≠‡∏≠)", "‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏á‡∏≠‡∏ô‡∏ô‡∏ô‡∏ô‡∏ô"] }, { keywords: ["‡πÑ‡∏°‡πà‡∏ö‡∏≠‡∏Å"], reply: ["‡∏≠‡πà‡∏≤‡∏ß‡∏ó‡πç‡∏≤‡πÑ‡∏°‡πÑ‡∏°‡πà‡∏ö‡∏≠‡∏Å", "‡∏ö‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏¢‡∏¢‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ", "‡∏Ñ‡∏ô‡πÑ‡∏ó‡∏¢‡∏¢‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ ‡∏ö‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏¢‡∏¢‡∏á‡∏±‡∏ö‡∏ö‡∏ö"] }, { keywords: ["‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠"], reply: ["‡πÄ‡∏Ñ‡πâ‡∏≤‡∏û‡∏π‡∏î‡∏à‡∏£‡∏¥‡∏á‡∏ô‡∏∞", "‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÑ‡∏á‡∏á‡∏á"] }, { keywords: ["‡∏£‡∏±‡∏Å", "love", "‡πÄ‡∏•‡∏¥‡∏ü"], reply: ["‡∏£‡∏±‡∏Å‡∏à‡∏¥‡∏ô‡∏ô‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡πÄ‡∏•‡∏¢‡∏¢‡∏¢ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏±‡∏ô‡πÑ‡∏´‡∏ô‡πÑ‡∏°‡πà‡∏£‡∏±‡∏Å‡πÄ‡∏•‡∏¢", "‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ô‡∏ô‡∏Å‡∏±‡∏ô‡∏ô‡∏ô‡∏ô‡∏ô‡∏ô‡∏ô", "‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Å‡πá‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏≠‡∏≠‡∏ô‡∏∞", "‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏Ñ‡∏±‡∏ö‡∏ö‡∏ö‡∏ö"] }, { keywords: ["‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á", "‡∏°‡∏¥‡∏™‡∏¢‡∏π"], reply: ["‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏á‡∏á‡πÄ‡∏ò‡∏≠‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô", "‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏á‡πÄ‡∏ò‡∏≠‡∏°‡∏≤‡∏Å‡∏Å ‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏à‡∏≠‡πÅ‡∏•‡πâ‡∏ß", "‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏á‡πÄ‡∏ò‡∏≠‡∏≠ ‡∏≠‡∏¢‡∏≤‡∏Å‡∏Å‡∏≠‡∏î‡πÄ‡∏•‡∏¢‡∏¢", "‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Å‡πá‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡πÄ‡∏ò‡∏≠‡∏ï‡∏•‡∏≠‡∏î‡∏î"] }, { keywords: ["‡∏Å‡∏≠‡∏î", "‡∏à‡∏∏‡πä‡∏ö", "‡∏´‡∏≠‡∏°‡πÅ‡∏Å‡πâ‡∏°"], reply: ["‡∏Å‡∏≠‡∏î‡πÅ‡∏ô‡πà‡∏ô‡πÜ ‡πÄ‡∏•‡∏¢‡∏¢‡∏¢‡∏¢", "‡∏à‡∏∏‡πä‡∏ü‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ", "‡∏™‡πà‡∏á‡∏Å‡∏≠‡∏î‡∏≠‡∏∏‡πà‡∏ô‡πÜ‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ô‡∏∞"] }, { keywords: ["‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏ô", "‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÑ‡∏´‡∏ô"], reply: ["‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÑ‡∏´‡∏ô‡∏ô‡∏ô‡∏∞", "‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡πÜ‡πÄ‡∏ò‡∏≠‡πÑ‡∏á ‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏ö‡∏ï‡∏≤‡∏î‡∏π‡∏™‡∏¥", "‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÉ‡∏à‡πÄ‡∏ò‡∏≠‡∏≠‡∏≠‡∏á‡∏≤‡∏¢‡∏¢‡∏¢"] }, { keywords: ["‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢", "‡∏ó‡πâ‡∏≠", "‡πÑ‡∏°‡πà‡πÑ‡∏´‡∏ß"], reply: ["‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡πÑ‡∏á‡∏ö‡πâ‡∏≤‡∏á‡∏á‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö ‡πÄ‡∏•‡πà‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ü‡∏±‡∏á‡πÑ‡∏î‡πâ", "‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏Å‡πá‡∏û‡∏±‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏ô ‡∏´‡∏≤‡∏Ç‡∏≠‡∏á‡∏Å‡∏¥‡∏ô‡∏≠‡∏£‡πà‡∏≠‡∏¢‡πÜ", "‡πÄ‡∏ò‡∏≠‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å‡πÜ‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à‡πÉ‡∏ô‡πÄ‡∏ò‡∏≠‡∏ô‡∏∞", "‡∏°‡∏≤‡∏Å‡∏≠‡∏î‡πÜ‡πÜ‡∏°‡∏≤‡∏≤‡∏≤‡∏≤"] }, { keywords: ["‡πÄ‡∏®‡∏£‡πâ‡∏≤", "‡∏£‡πâ‡∏≠‡∏á‡πÑ‡∏´‡πâ", "‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à"], reply: ["‡∏≠‡∏¢‡πà‡∏≤‡∏£‡πâ‡∏≠‡∏á‡πÑ‡∏´‡πâ‡∏ô‡∏∞ ‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏ò‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à‡∏à‡∏à", "‡πÉ‡∏Ñ‡∏£‡∏ó‡πç‡∏≤‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏ò‡∏≠ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÄ‡∏Ñ‡πâ‡∏≤‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏¢", "‡πÄ‡∏ò‡∏≠‡∏¢‡∏¥‡πâ‡∏°‡∏°‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ‡∏ô‡∏∞‡∏Ñ‡∏±‡∏ö‡∏ö‡∏ö‡∏ö", "‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏≠‡∏¢‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡πÜ‡πÄ‡∏ò‡∏≠‡πÄ‡∏™‡∏°‡∏≠‡∏ô‡∏∞"] }, { keywords: ["‡πÄ‡∏´‡∏á‡∏≤", "‡πÄ‡∏ö‡∏∑‡πà‡∏≠"], reply: ["‡πÇ‡∏≠‡πã‡πÜ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏á‡∏á‡∏á", "‡πÄ‡∏ö‡∏∑‡πà‡∏≠‡∏Å‡πá‡∏°‡∏≤‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡πâ‡∏≤‡∏™‡∏¥ ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏∞‡πÑ‡∏õ‡πÅ‡∏Å‡∏•‡πâ‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡πá‡πÑ‡∏î‡πâ5555", "‡πÄ‡∏Ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏ß ‡∏°‡∏≤‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏ö‡∏ö‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏•‡∏¢‡∏¢"] }, { keywords: ["‡∏£‡∏´‡∏±‡∏™", "passcode", "password"], reply: ["2206 ‡∏Ñ‡∏±‡∏ö‡∏ö‡∏ö‡∏ö", "‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏∑‡∏≠‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÑ‡∏á‡∏á‡∏á"] }, { keywords: ["‡πÉ‡∏Ñ‡∏£", "‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£"], reply: ["‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏≠‡∏á ‡πÅ‡∏ü‡∏ô‡∏à‡∏¥‡∏ô‡∏ô‡∏µ‡πà ‡∏à‡∏±‡∏Å‡∏©‡∏ì‡∏≤ ‡∏≠‡∏¥‡∏™‡∏†‡∏≤‡πÇ‡∏£", "‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏≠‡∏á ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏•‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î"] }, { keywords: ["555", "‡∏ï‡∏•‡∏Å", "‡∏Ç‡∏≥"], reply: ["‡∏Ç‡πç‡∏≤‡∏¢‡∏±‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢", "‡∏≠‡∏¥‡∏≠‡∏¥", "‡∏Ç‡πç‡∏≤‡πÄ‡∏¢‡∏≠‡∏∞‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏¢‡πà‡∏ô‡∏ô‡∏ô‡∏∞"] }];
        const fallbackReplies = ["‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏±‡∏ö‡∏ö‡∏ö"];
        function scrollToBottom() { setTimeout(() => { const chatBox = document.getElementById('chat-messages'); chatBox.scrollTop = chatBox.scrollHeight; }, 50); }
        function sendMessage() { const text = chatInput.value.trim(); if(!text) return; addMessage(text, 'sent'); chatInput.value = ''; chatInput.focus(); setTimeout(() => { const loadingId = addTyping(); setTimeout(() => { removeMessage(loadingId); const reply = getSmartReply(text); addMessage(reply, 'received'); sfxMsg.currentTime = 0; sfxMsg.play().catch(()=>{}); }, 1000 + Math.random() * 1000); }, 500); }
        function addMessage(text, type) { const div = document.createElement('div'); div.className = `msg-bubble msg-${type} animate-fade-in shadow-md`; div.innerText = text; chatBox.appendChild(div); scrollToBottom(); }
        function addTyping() { const id = 'typing-' + Date.now(); const div = document.createElement('div'); div.id = id; div.className = `msg-bubble msg-received shadow-md`; div.innerHTML = `<span class="typing-dot"></span><span class="typing-dot"></span><span class="typing-dot"></span>`; chatBox.appendChild(div); scrollToBottom(); return id; }
        const styleSheet = document.createElement("style"); styleSheet.innerText = `@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }`; document.head.appendChild(styleSheet);
        function getSmartReply(input) { const lowerInput = input.toLowerCase(); for (let item of chatDatabase) { if (item.keywords.some(keyword => lowerInput.includes(keyword))) return item.reply[Math.floor(Math.random() * item.reply.length)]; } return fallbackReplies[Math.floor(Math.random() * fallbackReplies.length)]; }
        function removeMessage(id) { const el = document.getElementById(id); if(el) el.remove(); }
        function updateBirthdays() { const now = new Date(); const currentYear = now.getFullYear(); const birthdays = [{ id: 'ice-countdown', day: 17, month: 2 }, { id: 'jinny-countdown', day: 27, month: 7 }]; birthdays.forEach(b => { let bday = new Date(currentYear, b.month, b.day); if (now > bday) bday.setFullYear(currentYear + 1); const diff = bday - now; document.getElementById(b.id).innerText = Math.ceil(diff / (1000 * 60 * 60 * 24)) + " Days"; }); }
        setInterval(updateBirthdays, 60000); updateBirthdays();
        let hits = 0; const faceImg = document.getElementById('game-face-img'); const stage = document.getElementById('game-stage'); const sfxHit = document.getElementById('sfx-hit');
        function startPunch(e) { e.preventDefault(); if(e.type === 'touchstart') { for (let i = 0; i < e.changedTouches.length; i++) processHit(e.changedTouches[i].clientX, e.changedTouches[i].clientY); } else { processHit(e.clientX, e.clientY); } }
        function processHit(x, y) { hits++; document.getElementById('combo-count').innerText = hits; sfxHit.currentTime = 0; sfxHit.play().catch(()=>{}); if(navigator.vibrate) navigator.vibrate(50); const rot = (Math.random() - 0.5) * 60 + 'deg'; faceImg.style.setProperty('--rot', rot); faceImg.classList.remove('face-smash'); void faceImg.offsetWidth; faceImg.classList.add('face-smash'); if (hits % 5 === 0) { stage.classList.add('screen-shake-hard'); setTimeout(() => stage.classList.remove('screen-shake-hard'), 300); } createExplosion(x, y); faceImg.classList.remove('bruised-1', 'bruised-2', 'bruised-3'); if (hits > 50) faceImg.classList.add('bruised-3'); else if (hits > 30) faceImg.classList.add('bruised-2'); else if (hits > 10) faceImg.classList.add('bruised-1'); document.getElementById('rage-bar').style.width = Math.min(hits, 100) + '%'; }
        function createExplosion(x, y) { const colors = ['#ff0000', '#ff4d00', '#ffcc00', '#ffffff']; for(let i=0; i<8; i++) { const p = document.createElement('div'); p.className = 'particle'; p.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)]; p.style.left = x + 'px'; p.style.top = y + 'px'; const angle = Math.random() * Math.PI * 2; const velocity = 100 + Math.random() * 100; p.style.setProperty('--mx', Math.cos(angle) * velocity + 'px'); p.style.setProperty('--my', Math.sin(angle) * velocity + 'px'); document.body.appendChild(p); setTimeout(() => p.remove(), 600); } }
        function healFace() { hits = 0; document.getElementById('combo-count').innerText = 0; faceImg.classList.remove('face-smash', 'bruised-1', 'bruised-2', 'bruised-3'); faceImg.style.transform = 'rotate(0deg)'; document.getElementById('rage-bar').style.width = '0%'; alert("‡∏î‡∏µ‡∏Å‡∏±‡∏ô‡∏ô‡∏ô‡∏∞‡∏∞"); }
        setInterval(() => { const diff = new Date() - CONFIG.startDate; document.getElementById('d').innerText = Math.floor(diff/86400000); document.getElementById('h').innerText = Math.floor((diff/3600000)%24); document.getElementById('m').innerText = Math.floor((diff/60000)%60); document.getElementById('s').innerText = Math.floor((diff/1000)%60); }, 1000);
        function toggleMusic() { const m = document.getElementById('bg-music'); if(m.paused) m.play(); else m.pause(); }
        function createStars() { const container = document.getElementById('star-container'); if(!container) return; container.innerHTML = ''; for(let i=0; i<5; i++){ const star = document.createElement('div'); star.className = 'shooting-star'; star.style.top = Math.random() * 100 + '%'; star.style.left = Math.random() * 100 + '%'; star.style.transform = `rotate(${Math.random() * 45}deg)`; star.style.animationDelay = (Math.random() * 5) + 's'; container.appendChild(star); } }
        createStars();
        const loveQuotes = ["‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏ò‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏î‡πÉ‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ô‡∏∞", "‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡πÜ ‡πÄ‡∏™‡∏°‡∏≠‡∏ô‡∏∞", "‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏ò‡∏≠ ‡∏Ñ‡∏∑‡∏≠‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏•‡∏¢‡∏ô‡∏∞", "‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏Ñ‡∏±‡∏ö‡∏ö‡∏ö ‡∏î‡∏µ‡∏Å‡∏±‡∏ô‡∏ô‡∏ô‡∏ô", "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏ò‡∏≠‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏à‡∏±‡∏á (‡∏à‡∏£‡∏¥‡∏á‡πÜ‡∏Å‡πá‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÅ‡∏´‡∏•‡∏∞)", "‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô ‡πÅ‡∏ï‡πà‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ", "‡∏™‡∏π‡πâ‡πÜ‡∏ô‡∏∞‡∏Ñ‡∏±‡∏ö‡∏Ñ‡∏ô‡πÄ‡∏Å‡πà‡∏á ‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏ò‡∏≠‡∏ô‡∏∞"];
        function randomQuote() { const quoteEl = document.getElementById('love-quote'); if(quoteEl) { quoteEl.style.opacity = 0; setTimeout(() => { quoteEl.innerText = `"${loveQuotes[Math.floor(Math.random() * loveQuotes.length)]}"`; quoteEl.style.opacity = 1; }, 300); } }
        randomQuote();
        const wishInput = document.getElementById('wish-input'); const lanternSky = document.getElementById('lantern-sky'); const sfxLantern = document.getElementById('sfx-lantern');
        loadWishes();
        function sendLantern() { const text = wishInput.value.trim(); if(!text) { alert("‡∏û‡∏¥‡∏°‡∏û‡πå‡∏≠‡∏∞‡πÑ‡∏£‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏™‡∏¥‡∏Ñ‡∏ô‡∏î‡∏µ..."); return; } createLantern(text); saveWish(text); wishInput.value = ''; sfxLantern.currentTime = 0; sfxLantern.play().catch(()=>{}); }
        function createLantern(text, isOld = false) { const container = document.createElement('div'); container.className = 'lantern-container'; const leftPos = Math.random() * 80 + 10; const drift = (Math.random() - 0.5) * 200 + 'px'; const duration = Math.random() * 10 + 15 + 's'; const delay = isOld ? Math.random() * -20 + 's' : '0s'; container.style.left = leftPos + '%'; container.style.setProperty('--drift', drift); container.style.animationDuration = duration; container.style.animationDelay = delay; container.innerHTML = `<div class="lantern"></div><div class="wish-tag">"${text}"</div>`; lanternSky.appendChild(container); if(!isOld) { setTimeout(() => { container.remove(); }, parseFloat(duration) * 1000); } }
        function saveWish(text) { let wishes = JSON.parse(localStorage.getItem('ice_jinny_wishes')) || []; wishes.push(text); localStorage.setItem('ice_jinny_wishes', JSON.stringify(wishes)); }
        function loadWishes() { let wishes = JSON.parse(localStorage.getItem('ice_jinny_wishes')) || []; wishes.forEach(text => createLantern(text, true)); }
        function switchTab(tab) { ['home', 'game', 'gallery', 'chat', 'wish'].forEach(t => document.getElementById(`tab-${t}`).style.display = 'none'); const target = tab; const el = document.getElementById(`tab-${target}`); if (target === 'home') { el.style.display = 'block'; } else { el.style.display = 'flex'; } const map = {'home':0, 'game':1, 'wish':2, 'gallery':3, 'chat':4}; document.querySelectorAll('.nav-btn').forEach((b, i) => { let activeClass = 'text-blue-300'; if(target === 'game') activeClass = 'text-red-500'; if(target === 'wish') activeClass = 'text-yellow-400'; if(target === 'chat') activeClass = 'text-pink-400'; if(target === 'gallery') activeClass = 'text-purple-400'; b.className = i === map[target] ? `nav-btn transition-all duration-300 transform scale-125 ${activeClass}` : "nav-btn text-white/50 transition-all duration-300 transform hover:scale-110"; }); if(target === 'home') createStars(); }
	// --- üéµ ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏û‡∏•‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏ö‡∏≤‡∏•‡∏á (0.3 ‡∏Ñ‡∏∑‡∏≠ 30%) ---
        document.getElementById('bg-music').volume = 0.1;
    </script>
</body>
</html>